# GIA硬件板卡设计

## 1.总览

### 1.1 IC及原理图设计

- STM32F103C8T6：

最小板参考已实现的方式设计，不要低频晶振

- L6234PD（补购10片）

参考已实现的方式设计，EN预留IO，注意务必理解、实现保护地和地

- AS5600

STM32预留可编程电阻和方向口的IO

- INA240A2*2（补购10片）

用嘉立创的0.01R电阻

- TPS54331（补购10片）

复用灯哥开源的电路

- ASM1117-3.3

参考验证版的选型和电路

- TJA1040T

预留120R终端电阻接口，但是不焊（调试时用上位机的终端电阻）(**明天开始先调CAN和flash算了。。。。**)

- 其他

LED灯查下匹配的电阻，不要太亮也不要太暗

### 1.2 接口（全部放在反面）

- [x] UVW：2.54-3P螺钉式接线端子
- [x] DCBUS：2.54-2P插拔式接线端子弯插
- [x] CAN***2**：SH1.0-2P贴片 / PH2.0-2P弯插
- [x] I2C：预留一路SH1.0-4P贴片（注意若SWD为SH1.0，务必保证和SWD的VCC/GND一致）
- [x] USART：SH1.0-3P贴片 / PH2.0-3P弯插
- [x] SWD：SH1.0-4P贴片 / PH2.0-4P弯插
- [x] LED：电源灯（蓝灯）、PC13灯（DEBUG绿灯）、编码器方向灯（红灯常灭）三个灯PCB上尽量放在一起
- [ ] INA240-IO引脚留出，手焊短接，尽量方便手焊的位置
- [ ] PC13在边缘留一个焊盘用于DEBUG
- [ ] 留圆盘小按键用于重置STM32

### 1.3 PCB Layout注意事项

- [ ] 晶振不要放在边缘
- [ ] AS5600居中
- [ ] UVW端子观察电机布置
- [ ] 所有接口都贴在反面
- [ ] INA240贴在反面
- [ ] 灯都贴在反面
- [ ] 某两个孔中间角度连电机端子，依次均布接口不要超过电机端子的正负90deg
- [ ] 以后可以把编码器和控制器分开做异形PCB，想想都很酷炫
- [ ] PCB板直径68，孔距44，4个孔，思考下以后怎么安装

### 1.4 原理图设计注意事项